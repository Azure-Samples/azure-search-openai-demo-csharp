<MudDrawer @bind-Open="@Open" Anchor="@Anchor.End" Elevation="5"
    Variant="@DrawerVariant.Temporary" Width="25rem">
    <MudDrawerHeader>
        <MudText Typo="Typo.h5">
            @Title
        </MudText>
    </MudDrawerHeader>
    <div class="pa-6">
        @if (_supportedSettings is not SupportedSettings.Ask)
        {
            <MudText Typo="Typo.subtitle1">@ApproachLabel</MudText>
            <MudRadioGroup @bind-SelectedOption="_approach" Class="pa-2">
                <MudRadio Option="@Approach.RetrieveThenRead" Color="Color.Primary">
                    @RetrieveThenRead
                </MudRadio>
                <MudRadio Option="@Approach.ReadRetrieveRead" Color="Color.Primary">
                    @ReadRetrieveRead
                </MudRadio>
                <MudRadio Option="@Approach.ReadDecomposeAsk" Color="Color.Primary">
                    @ReadDecomposeAsk
                </MudRadio>
            </MudRadioGroup>
        }

        <MudTextField T="string" Lines="5" Variant="Variant.Outlined"
                      Label="@OverridePromptTemplate" Placeholder="@OverridePromptTemplate" Class="pa-2"
            @bind-Value="_overrides.PromptTemplate" Clearable="true" />

        <MudNumericField @bind-Value="_overrides.Top"
                         Class="pa-2" Placeholder="@RetrieveNumberOfDocs"
             Label="@RetrieveNumberOfDocs" 
             Variant="Variant.Outlined" Min="1" Max="50" />

        <MudTextField T="string" Variant="Variant.Outlined"
                      Label="@ExcludeCategory" Placeholder="@ExcludeCategory" Class="pa-2"
            @bind-Value="_overrides.ExcludeCategory" Clearable="true" />

        <MudCheckBox @bind-Checked="@_overrides.SemanticRanker" Size="Size.Large"
                    Color="Color.Primary" Label="@UseSemanticRanker" />

        <MudCheckBox @bind-Checked="@_overrides.SemanticCaptions" Size="Size.Large"
                    Color="Color.Primary" 
                    Label="@UseQueryContext" />
    
        @if (_supportedSettings is not SupportedSettings.Ask)
        {
            <MudCheckBox @bind-Checked="@_overrides.SuggestFollowupQuestions" Size="Size.Large"
                        Color="Color.Primary" 
                        Label="@SuggestFollowups" />
        }
    </div>
    <div class="d-flex align-content-end flex-wrap flex-grow-1 pa-6">
        <MudButton Variant="Variant.Filled" Color="Color.Secondary"
            OnClick="@(_ => Open = Open is false)" Size="Size.Large"
            StartIcon="@Icons.Material.Filled.Close">
            @Close
        </MudButton>
    </div>
</MudDrawer>